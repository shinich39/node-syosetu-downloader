"use strict";var lt=Object.create;var j=Object.defineProperty;var ut=Object.getOwnPropertyDescriptor;var ct=Object.getOwnPropertyNames;var ft=Object.getPrototypeOf,ht=Object.prototype.hasOwnProperty;var pt=(r,t)=>{for(var e in t)j(r,e,{get:t[e],enumerable:!0})},G=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ct(t))!ht.call(r,s)&&s!==e&&j(r,s,{get:()=>t[s],enumerable:!(n=ut(t,s))||n.enumerable});return r};var A=(r,t,e)=>(e=r!=null?lt(ft(r)):{},G(t||!r||!r.__esModule?j(e,"default",{value:r,enumerable:!0}):e,r)),gt=r=>G(j({},"__esModule",{value:!0}),r);var _t={};pt(_t,{getBook:()=>Yt,getMetadata:()=>Nt});module.exports=gt(_t);var F=A(require("dayjs"),1);var P=A(require("cheerio"),1),q=A(require("puppeteer-extra"),1),tt=A(require("puppeteer-extra-plugin-stealth"),1),et=require("tough-cookie"),rt=A(require("fetch-cookie"),1);function dt(r){return typeof r=="boolean"}function I(r){return typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r)}function k(r){return typeof r=="string"}function y(r){return typeof r=="object"&&r!==null&&!x(r)}function x(r){return Array&&Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}function mt(r){return typeof r=="function"}function J(r,t,e){return r-=t,e-=t,r<0&&(r=r%e+e),r>=e&&(r=r%e),r+t}function v(r){return r.replace(/[！-～]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}).replace(/[^\S\r\n]/g," ")}function yt(r){let t=r.split("/"),e=t.pop(),n=t.slice(1,t.length).join("/");return new RegExp(n,e)}function _(r){let t={};for(let[e,n]of Object.entries(r))y(n)?t[e]=_(n):x(n)?t[e]=Q(n):t[e]=n;return t}function W(r,t){function e(a,o){if(y(o)){for(let[i,l]of Object.entries(o))if(!n(a,l,i.split(".")))return!1;return!0}else return s(a,o,"$eq")}function n(a,o,i){let l=i.shift();return i.length>0?y(a)&&k(l)?n(a[l],o,i):!1:k(l)?s(a,o,l):!1}function s(a,o,i){if(i==="$and"){if(!x(o))throw new Error(`Invalid query type: ${typeof o}`);for(let l of o)if(!e(a,l))return!1;return!0}else{if(i==="$nand")return!s(a,o,"$and");if(i==="$or"){if(!x(o))throw new Error(`Invalid query type: ${typeof o}`);for(let l of o)if(e(a,l))return!0;return!1}else{if(i==="$nor")return!s(a,o,"$or");if(i==="$not")return!e(a,o);if(i==="$in"){if(!x(o))throw new Error(`Invalid query type: ${typeof o}`);for(let l of o)if(s(a,l,"$eq"))return!0;return!1}else{if(i==="$nin")return!s(a,o,"$in");if(i==="$gt"){if(!I(o))throw new Error(`Invalid query type: ${typeof o}`);return a>o}else if(i==="$gte"){if(!I(o))throw new Error(`Invalid query type: ${typeof o}`);return a>=o}else if(i==="$lt"){if(!I(o))throw new Error(`Invalid query type: ${typeof o}`);return a<o}else if(i==="$lte"){if(!I(o))throw new Error(`Invalid query type: ${typeof o}`);return a<=o}else if(i==="$eq")if(x(a)&&x(o)){if(a.length!==o.length)return!1;for(let l in o)if(!s(a[l],o[l],"$eq"))return!1;return!0}else return y(o)?e(a,o):a===o;else{if(i==="$ne")return!s(a,o,"$eq");if(i==="$exists"){if(!dt(o))throw new Error(`Invalid query type: ${typeof o}`);return a!=null===o}else if(i==="$elemMatch"){if(!y(o))throw new Error(`Invalid query type: ${typeof o}`);if(!x(a))return!1;for(let l of a)if(!e(l,o))return!1;return!0}else if(i==="$mod"){if(!x(o))throw new Error(`Invalid query type: ${typeof o}`);let l=o[0],u=o[1];if(!I(l))throw new Error(`Invalid divisor type: ${typeof l}`);if(!I(u))throw new Error(`Invalid remainder type: ${typeof u}`);return a%l===u}else{if(i==="$size")return x(a)?e(a.length,o):y(a)?e(Object.keys(a).length,o):!1;if(i==="$function"){if(!mt(o))throw new Error(`Invalid query type: ${typeof o}`);return o(a)}else if(i==="$regex"){if(k(o))return o.charAt(0)==="/"?yt(o).test(a):new RegExp(o).test(a);if(o instanceof RegExp)return o.test(a);throw new Error(`Invalid query type: ${typeof o}`)}else if(/^\$-?[0-9]+$/.test(i)){let l=Math.floor(J(parseInt(i.substring(1)),0,a.length));return e(a[l],o)}else return y(a)?y(o)?e(a[i],o):s(a[i],o,"$eq"):!1}}}}}}return e(r,t)}function wt(r,t){for(let e of Object.keys(t))for(let[n,s]of Object.entries(t[e])){let a=n.split("."),o=a.pop();if(!k(o))continue;let i=r;for(;y(i);){let l=a.shift();if(!l)break;i=i[l]}if(y(i)){if(e==="$set")i[o]=s;else if(e==="$unset")s&&delete i[o];else if(e==="$push")i[o].push(s);else if(e==="$pushAll"){if(Array.isArray(s))for(let l of s)i[o].push(l)}else if(e==="$pull"){for(let l=i[o].length;l>=0;l--)if(i[o][l]===s){i[o].splice(l,1);break}}else if(e==="$pullAll")Array.isArray(s)&&(i[o]=i[o].filter(function(l){for(let u of s)if(l===u)return!1;return!0}));else if(e==="$addToSet"){let l=!1;for(let u of i[o])if(u===s){l=!0;break}l||i[o].push(s)}else if(e==="$addToSetAll"&&Array.isArray(s))for(let l of s){let u=!1;for(let f of i[o])if(f===l){u=!0;break}u||i[o].push(l)}}}return r}function Q(r){let t=[];for(let e=0;e<r.length;e++){let n=r[e];y(n)?r[e]=_(n):x(n)?r[e]=Q(n):r[e]=n}return t}function M(r){return new Promise(function(t){return setTimeout(t,r)})}var C=[["&","&amp;"],[" ","&nbsp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"],["\xA2","&cent;"],["\xA3","&pound;"],["\xA5","&yen;"],["\u20AC","&euro;"],["\xA9","&copy;"],["\xAE","&reg;"]],N=[["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]];function xt(r){return r.replace(/\r\n/g,`
`)}function $t(r){return r.replace(/^</,"").replace(/([^<][!?/])?>$/,"").replace(/\s+/g," ").trim()}function bt(r,t){for(let e=r.length-1;e>=0;e--)if(t(r[e],e,r))return e;return-1}function T(r){return encodeURIComponent(r)}function X(r){return decodeURIComponent(r)}function At(r){for(let t=0;t<C.length;t++)r=r.replace(new RegExp(C[t][0],"g"),C[t][1]);return r}function V(r){for(let t=C.length-1;t>=0;t--)r=r.replace(new RegExp(C[t][1],"g"),C[t][0]);return r}function It(r){for(let t=0;t<N.length;t++)r=r.replace(new RegExp(N[t][0],"g"),N[t][1]);return r}function Ct(r){return r.replace(/<!--([\s\S]*?)-->/g,function(...t){return`<!-->${T(t[1])}</!-->`})}function vt(r){return r.replace(/(<script(?:[\s\S]*?)>)([\s\S]*?)(<\/script>)/g,function(...t){return`${t[1]}${T(t[2])}${t[3]}`})}function Mt(r){return r.replace(/(<style(?:[\s\S]*?)>)([\s\S]*?)(<\/style>)/g,function(...t){return`${t[1]}${T(t[2])}${t[3]}`})}function St(r){return r.replace(/(>)([\s\S]*?)(<)/g,function(...t){return`${t[1]}${At(t[2])}${t[3]}`})}function Et(r){function t(...e){return`=${T(e[1])} `}return r.replace(/='([^'>]*?)'/g,t).replace(/="([^">]*?)"/g,t)}function Ot(r,t){let e=t.split("="),n=e.shift();n&&(e.length===0?r[n]=!0:r[n]=X(e.join("=")))}function Bt(r){let t=$t(r).split(/\s/),e={tag:t[0]||"",attributes:{},children:[],isClosing:!1,isClosed:!1,isEncoded:!1};typeof e.tag=="string"&&(e.isClosing=/^\//.test(e.tag),e.isClosed=e.isClosing,e.tag=e.tag.replace(/^\//,""),!e.isClosing&&["script","style","!--"].indexOf(e.tag)>-1&&(e.isEncoded=!0));for(let n=1;n<t.length;n++)Ot(e.attributes,t[n]);return e}function jt(r){let t="";for(let[e,n]of Object.entries(r))typeof n=="string"?t+=` ${e}="${It(n)}"`:n===!0&&(t+=` ${e}`);return t}function L(r){r=Et(St(Mt(vt(Ct(xt(r))))));let t=0,e=/<[^>]*?>/g,n,s=[],a=[],o;for(;n=e.exec(r);){if(t!==n.index){let i=r.substring(t,n.index);s.push({content:V(i)})}if(o=Bt(n[0]),!o.isClosing)s.push(o),a.push(o);else{let i=bt(s,function(l){return!l.isClosed&&l.tag===o.tag});if(i>-1){let l=s[i];l.isClosed=!0,l.children=s.splice(i+1,s.length-i+1)}}t=e.lastIndex}if(t<r.length){let i=r.substring(t);s.push({content:V(i)})}for(let i of a){if(i.tag&&(i.tag.toUpperCase()==="!DOCTYPE"?i.closer="":i.tag.toLowerCase()==="?xml"?i.closer="?":i.tag==="!--"?i.closer="--":i.isClosed||(i.closer=" /"),i.isEncoded&&i.children))for(let l of i.children)l.content&&(l.content=X(l.content));delete i.isClosed,delete i.isClosing,delete i.isEncoded}return{children:s}}function U(r,t){let e=0,n=function(s){let{tag:a,closer:o,attributes:i,content:l}=t?t(s,e):s,u="";if(e++,typeof a=="string"){if(u+=`<${a}`,typeof i=="object"&&(u+=jt(i)),typeof o!="string"&&(u+=">"),Array.isArray(s.children))for(let f of s.children)u+=n(f);typeof o!="string"?u+=`</${a}>`:u+=`${o}>`}else if(typeof l=="string")u=l;else if(Array.isArray(s.children))for(let f of s.children)u+=n(f);return u};return n(r)}function K(r){let t=function(e){let n=e.split(/([>\s])/).map(o=>o?.trim()).filter(Boolean),s=[],a;for(let o of n){if(o===">"){a=o;continue}let i=a&&a===">"?1:void 0,l={$and:[]},u=o.match(/^([a-zA-Z0-9]+)/),f=[...o.matchAll(/#([a-zA-Z0-9_-]+)/g)],g=[...o.matchAll(/\.([a-zA-Z0-9_-]+)/g)],d=[...o.matchAll(/\[([a-zA-Z0-9_-]+)([*^$]?=["']?([^"']+)["']?)?\]/g)];if(u){let c=u[1];c!=="*"?l.$and.push({tag:c}):l.$and.push({tag:{$regex:c}})}if(f.length>0)for(let c of f)l.$and.push({"attributes.id":{$regex:"(^| )("+c[1]+")( |$)"}});if(g.length>0)for(let c of g)l.$and.push({"attributes.class":{$regex:"(^| )("+c[1]+")( |$)"}});if(d.length>0)for(let c of d){let h=c[1],m=c[2]?c[2][0]:null,w=c[3],$={};m?m==="="?$["attributes."+h]=w:m==="^"?$["attributes."+h]={$regex:`^${w}`}:m==="$"?$["attributes."+h]={$regex:`${w}$`}:m==="*"&&($["attributes."+h]={$regex:w}):$["attributes."+h]={$exists:!0},l.$and.push($)}i?s.push({query:l,depth:i}):s.push({query:l}),a=o}return s};return r.split(",").map(e=>e.trim()).filter(Boolean).map(e=>t(e))}var qt=class Y{constructor(t){this.children=[],typeof t=="string"&&(t=L(t)),Object.assign(this,t),this.children=this.prepare(this.children)}getContent(){let t="";if(typeof this.content=="string")t+=this.content;else for(let e of this.children)t+=e.getContent();return t}setContent(t){return this.children=this.prepare([{content:t}]),this}findOne(t,e=Number.POSITIVE_INFINITY){if(!(e<1))for(let n of this.children){if(W(n,t))return n;let s=n.findOne(t,e-1);if(s)return s}}findMany(t,e=Number.POSITIVE_INFINITY){let n=[];if(e<1)return n;for(let s of this.children){W(s,t)&&n.push(s);let a=s.findMany(t,e-1);n.push(...a)}return n}querySelector(t){let e=K(t);for(let n of e){let s=[this];for(let{query:a,depth:o}of n)s=s.reduce((i,l)=>[...i,...l.findMany(a,o)],[]);if(s[0])return s[0]}}querySelectorAll(t){let e=K(t),n=[];for(let s of e){let a=[this];for(let{query:o,depth:i}of s)a=a.reduce((l,u)=>[...l,...u.findMany(o,i)],[]);n.push(...a)}return n=n.filter((s,a,o)=>o.findIndex(i=>s==i)===a),n}update(t){return wt(this,t),this.children=this.prepare(this.children),this}updateOne(t,e){let n=this.findOne(t);return n&&n.update(e),this}updateMany(t,e){let n=this.findMany(t);for(let s of n)s.update(e);return this}prepare(t){return t.map(e=>{if(e instanceof Y)return e.parent=this,e;{let n=new Y(e);return n.parent=this,n}})}replace(...t){return this.children=this.prepare(t),this}append(...t){return this.children=this.children.concat(this.prepare(t)),this}prepend(...t){return this.children.splice(0,0,...this.prepare(t)),this}insert(t,...e){return t=Math.floor(J(t,0,this.children.length)),this.children.splice(t,0,...this.prepare(e)),this}toObject(){let t=_(this);return delete t.parent,t.children=this.children.map(e=>e.toObject()),t}toString(t){return U(this,t)}static{this.parse=L}static{this.stringify=U}};q.default.use((0,tt.default)());var D=new et.CookieJar;D.setCookieSync("over18=yes","https://novel18.syosetu.com/");D.setCookieSync("over18=off","https://syosetu.org/");var kt=(0,rt.default)(fetch,D);async function nt(r,t,e=0){let n=0;for(;n<=e;){let s=await r.$(t);if(s)return s;await M(256),n+=256}throw new Error(`Element not found: ${t}`)}async function Tt(r,t,e=0){let n=await nt(r,t,e);return await r.evaluate(a=>a?.textContent,n)}async function ot(r,t,e=0){await nt(r,t,e),await r.click(t)}async function it(r,t,e,n=0){let s=0;for(;s<=n;){let a=await Tt(r,t);if(a&&e(a))return a;await M(256),s+=256}throw new Error(`Content not found: ${t}`)}var b=class{constructor(){this.isOpened=!1,this.cacheDir=".puppeteer"}async open(){for(this.isOpened||(this.isOpened=!0,this.browser=await q.default.launch({headless:!1,userDataDir:this.cacheDir}));!this.browser;)await M(128)}async close(){if(this.isOpened){for(;!this.browser;)await M(128);let t=this.browser;this.browser=void 0,this.isOpened=!1,await t.close()}}async load(t,e,n){if(e||(e=[]),await this.open(),!this.browser)throw new Error("Browser not found");let s=await this.browser.newPage();try{await s.goto(t,this.pageOptions);for(let i of e){let l=setTimeout(()=>{throw new Error(`Element not found: ${i}`)},1e4);await s.waitForSelector(i,{visible:!0,timeout:0}),clearTimeout(l)}n&&await n(s);let a=await s.content(),o=P.load(a);return await s.close(),o}catch(a){throw await s.close(),a}}async fetch(t,e){let n=await kt(t,e);if(!n.ok)throw new Error("Fetching failed");let s=await n.text();return P.load(s)}};function st(r){return typeof r=="number"?r:typeof r=="string"?isNaN(parseInt(r))?0:parseInt(r):0}function p(r){return v(r.find("br").replaceWith(`
`).end().text()).trim()}var S=class extends b{constructor(){super()}async getMetadata(t,e){let n=`https://www.alphapolis.co.jp/novel/${t}/${e}`,s=await this.fetch(n),a=s("table.detail"),o=function($){return p(a.find("th").filter(function(){return s(this).text().trim()===$}).next())},i=/連載中/.test(p(s(".content-status.complete"))),l=p(s("h1.title")),u=p(s(".author")),f=p(s(".abstract:nth-child(1)")),g=o("\u521D\u56DE\u516C\u958B\u65E5\u6642").replace(/[^0-9]/g,""),d=o("\u66F4\u65B0\u65E5\u6642").replace(/[^0-9]/g,""),c=g.length===12?(0,F.default)(g,"YYYYMMDDHHmm").valueOf():0,h=d.length===12?(0,F.default)(d,"YYYYMMDDHHmm").valueOf():0,m=[];for(let $ of s("div.episode a").toArray()){let H=$.attribs.href,Z=H.split("/").pop();if(!Z)throw new Error(`ChapterID not found: ${H}`);m.push(Z)}return{onGoing:i,title:l,outline:f,author:u,chapterIds:m,createdAt:c,updatedAt:h}}async getChapter(t,e,n,s){let a=`https://www.alphapolis.co.jp/novel/${t}/${e}/episode/${n}`,o=await this.load(a,null,async f=>{let g=0;for(;g<10;){g++;try{await ot(f,"#TopLayer",0)}catch{}try{await it(f,"#novelBody",d=>v(d).trim()!=="",1e3);return}catch{}}throw new Error("Content not found")}),i=p(o("div.episode-title")),l=o("#novelBody").find("br").replaceWith(`
`).end().text();return{id:n,seq:s,title:i,content:l}}async getBook(t,e,n){let s=await this.getMetadata(t,e),a=[],o=s.chapterIds.length;for(let l=0;l<o;l++)try{let u=s.chapterIds[l],f=await this.getChapter(t,e,u,l);a.push(f),n&&n(null,f,l,o)}catch(u){n&&n(u,null,l,o)}let i={...s,chapters:a};return await this.close(),i}};var z=A(require("dayjs"),1);var E=class extends b{constructor(){super()}async getMetadata(t){let e=`https://syosetu.org/?mode=ss_detail&nid=${t}`,n=await this.fetch(e),s=function(w){return p(n("td").filter(function(){return n(this).text().trim()===w}).next())},a=/短編|完結/.test(s("\u8A71\u6570")),o=s("\u30BF\u30A4\u30C8\u30EB"),i=s("\u4F5C\u8005"),l=s("\u3042\u3089\u3059\u3058"),u=parseInt(s("\u8A71\u6570").replace(/[^0-9]/g,"")),f=s("\u63B2\u8F09\u958B\u59CB").replace(/[^0-9]/g,""),g=s("\u6700\u65B0\u6295\u7A3F").replace(/[^0-9]/g,""),d=f.length===12?(0,z.default)(f,"YYYYMMDDHHmm").valueOf():0,c=g.length===12?(0,z.default)(g,"YYYYMMDDHHmm").valueOf():0,h=[];for(let w=0;w<u;w++)h.push(""+(w+1));return{onGoing:a,title:o,outline:l,author:i,chapterIds:h,createdAt:d,updatedAt:c}}async getChapter(t,e,n){let s=`https://syosetu.org/novel/${t}/${e}.html`,a=await this.fetch(s),o=p(a("#analytics_start").prev()),i=0,l=a(`#${i}`),u=[];for(;l.length!==0;)u.push(l.text()),i++,l=a(`#${i}`);return{id:e,seq:n,title:o,content:u.join(`
`)}}async getBook(t,e){let n=await this.getMetadata(t),s=[],a=n.chapterIds.length;for(let i=0;i<a;i++)try{let l=n.chapterIds[i],u=await this.getChapter(t,l,i);s.push(u),e&&e(null,u,i,a)}catch(l){e&&e(l,null,i,a)}return{...n,chapters:s}}};var at=A(require("dayjs"),1);var O=class extends b{constructor(){super()}async getMetadata(t){let e=`https://kakuyomu.jp/works/${t}`,n=await this.fetch(e),s=p(n("a[title]").first()),a=p(n(".CollapseTextWithKakuyomuLinks_collapseText__XSlmz")),o=p(n('a[href^="/users"]').first()),i=!1;for(let c of n(".Meta_metaItem__8eZTP").toArray()){let h=n(c).text();if(h.indexOf("\u9023\u8F09\u4E2D")>-1){i=!0;break}else if(h.indexOf("\u5B8C\u7D50\u6E08")>-1){i=!1;break}}let l=0,u=0,f=[],g=JSON.parse(n("#__NEXT_DATA__").text());for(let c of Object.values(g.props.pageProps.__APOLLO_STATE__))if(y(c)&&c.__typename==="Episode"){let h=(0,at.default)(c.publishedAt).valueOf();l?l>h&&(l=h):l=h,u?u<h&&(u=h):u=h,f.push({id:c.id,publishedAt:h})}return f.sort((c,h)=>c.publishedAt-h.publishedAt),{onGoing:i,title:s,outline:a,author:o,chapterIds:f.map(c=>c.id),createdAt:l,updatedAt:u}}async getChapter(t,e,n){let s=`https://kakuyomu.jp/works/${t}/episodes/${e}`,a=await this.fetch(s),o=p(a("#contentMain-header")),i=1,l=a(`#p${i}`),u=[];for(;l.length!==0;)u.push(l.text()),i++,l=a(`#p${i}`);return{id:e,seq:n,title:o,content:u.join(`
`)}}async getBook(t,e){let n=await this.getMetadata(t),s=[],a=n.chapterIds.length;for(let i=0;i<a;i++)try{let l=n.chapterIds[i],u=await this.getChapter(t,l,i);s.push(u),e&&e(null,u,i,a)}catch(l){e&&e(l,null,i,a)}return{...n,chapters:s}}};var R=A(require("dayjs"),1);var B=class extends b{constructor(){super()}async getMetadata(t){let e=`https://ncode.syosetu.com/novelview/infotop/ncode/${t}/`,n=await this.fetch(e),s=p(n("#noveltype_not"))!=="\u5B8C\u7D50\u6E08",a=p(n("#contents_main > h1 > a")),o=p(n("#noveltable1 tbody tr:nth-child(2) td")),i=p(n("#noveltable1 tbody tr:nth-child(1) td")),l=p(n("#noveltable2 tbody tr:nth-child(1) td")).replace(/[^0-9]/g,""),u=p(n("#noveltable2 tbody tr:nth-child(2) td")).replace(/[^0-9]/g,""),f=l.length===12?(0,R.default)(l,"YYYYMMDDHHmm").valueOf():0,g=u.length===12?(0,R.default)(u,"YYYYMMDDHHmm").valueOf():0,d=st(v(n("#pre_info").text()).match(/全([0-9]+)エピソード/)?.[1]||""),c=[];for(let m=0;m<d;m++)c.push(""+(m+1));return{onGoing:s,title:a,outline:i,author:o,chapterIds:c,createdAt:f,updatedAt:g}}async getChapter(t,e,n){let s=`https://ncode.syosetu.com/${t}/${e}`,a=await this.fetch(s),o=p(a("h1.p-novel__title p-novel__title--rensai")),i=1,l=a(`#L${i}`),u=[];for(;l.length!==0;)u.push(l.text()),i++,l=a(`#L${i}`);return{id:e,seq:n,title:o,content:u.join(`
`)}}async getBook(t,e){let n=await this.getMetadata(t),s=[],a=n.chapterIds.length;for(let i=0;i<a;i++)try{let l=n.chapterIds[i],u=await this.getChapter(t,l,i);s.push(u),e&&e(null,u,i,a)}catch(l){e&&e(l,null,i,a)}return{...n,chapters:s}}};async function Nt(r,t){if(r==="narou")return await new B().getMetadata(t);if(r==="kakuyomu")return await new O().getMetadata(t);if(r==="alphapolis")return await new S().getMetadata(t.split("/")[0],t.split("/")[1]);if(r==="hameln")return await new E().getMetadata(t);throw new Error(`Invalid type: ${r}`)}async function Yt(r,t,e){if(r==="narou")return await new B().getBook(t,e);if(r==="kakuyomu")return await new O().getBook(t,e);if(r==="alphapolis")return await new S().getBook(t.split("/")[0],t.split("/")[1],e);if(r==="hameln")return await new E().getBook(t,e);throw new Error(`Invalid type: ${r}`)}0&&(module.exports={getBook,getMetadata});
