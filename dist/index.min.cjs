"use strict";var ut=Object.create;var j=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var ft=Object.getOwnPropertyNames;var ht=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty;var gt=(r,t)=>{for(var e in t)j(r,e,{get:t[e],enumerable:!0})},V=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ft(t))!pt.call(r,o)&&o!==e&&j(r,o,{get:()=>t[o],enumerable:!(n=ct(t,o))||n.enumerable});return r};var C=(r,t,e)=>(e=r!=null?ut(ht(r)):{},V(t||!r||!r.__esModule?j(e,"default",{value:r,enumerable:!0}):e,r)),dt=r=>V(j({},"__esModule",{value:!0}),r);var Dt={};gt(Dt,{PROVIDER:()=>lt,getBook:()=>_t,getChapter:()=>Yt,getMetadata:()=>Nt});module.exports=dt(Dt);var R=C(require("dayjs"),1);var _=C(require("cheerio"),1),D=C(require("puppeteer-extra"),1),tt=C(require("puppeteer-extra-plugin-stealth"),1),et=require("tough-cookie"),rt=C(require("fetch-cookie"),1);function mt(r){return typeof r=="boolean"}function b(r){return typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r)}function k(r){return typeof r=="string"}function m(r){return typeof r=="object"&&r!==null&&!y(r)}function y(r){return Array&&Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}function wt(r){return typeof r=="function"}function J(r,t,e){return r-=t,e-=t,r<0&&(r=r%e+e),r>=e&&(r=r%e),r+t}function v(r){return r.replace(/[！-～]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}).replace(/[^\S\r\n]/g," ")}function yt(r){let t=r.split("/"),e=t.pop(),n=t.slice(1,t.length).join("/");return new RegExp(n,e)}function Y(r){let t={};for(let[e,n]of Object.entries(r))m(n)?t[e]=Y(n):y(n)?t[e]=Q(n):t[e]=n;return t}function G(r,t){function e(s,i){if(m(i)){for(let[a,l]of Object.entries(i))if(!n(s,l,a.split(".")))return!1;return!0}else return o(s,i,"$eq")}function n(s,i,a){let l=a.shift();return a.length>0?m(s)&&k(l)?n(s[l],i,a):!1:k(l)?o(s,i,l):!1}function o(s,i,a){if(a==="$and"){if(!y(i))throw new Error(`Invalid query type: ${typeof i}`);for(let l of i)if(!e(s,l))return!1;return!0}else{if(a==="$nand")return!o(s,i,"$and");if(a==="$or"){if(!y(i))throw new Error(`Invalid query type: ${typeof i}`);for(let l of i)if(e(s,l))return!0;return!1}else{if(a==="$nor")return!o(s,i,"$or");if(a==="$not")return!e(s,i);if(a==="$in"){if(!y(i))throw new Error(`Invalid query type: ${typeof i}`);for(let l of i)if(o(s,l,"$eq"))return!0;return!1}else{if(a==="$nin")return!o(s,i,"$in");if(a==="$gt"){if(!b(i))throw new Error(`Invalid query type: ${typeof i}`);return s>i}else if(a==="$gte"){if(!b(i))throw new Error(`Invalid query type: ${typeof i}`);return s>=i}else if(a==="$lt"){if(!b(i))throw new Error(`Invalid query type: ${typeof i}`);return s<i}else if(a==="$lte"){if(!b(i))throw new Error(`Invalid query type: ${typeof i}`);return s<=i}else if(a==="$eq")if(y(s)&&y(i)){if(s.length!==i.length)return!1;for(let l in i)if(!o(s[l],i[l],"$eq"))return!1;return!0}else return m(i)?e(s,i):s===i;else{if(a==="$ne")return!o(s,i,"$eq");if(a==="$exists"){if(!mt(i))throw new Error(`Invalid query type: ${typeof i}`);return s!=null===i}else if(a==="$elemMatch"){if(!m(i))throw new Error(`Invalid query type: ${typeof i}`);if(!y(s))return!1;for(let l of s)if(!e(l,i))return!1;return!0}else if(a==="$mod"){if(!y(i))throw new Error(`Invalid query type: ${typeof i}`);let l=i[0],u=i[1];if(!b(l))throw new Error(`Invalid divisor type: ${typeof l}`);if(!b(u))throw new Error(`Invalid remainder type: ${typeof u}`);return s%l===u}else{if(a==="$size")return y(s)?e(s.length,i):m(s)?e(Object.keys(s).length,i):!1;if(a==="$function"){if(!wt(i))throw new Error(`Invalid query type: ${typeof i}`);return i(s)}else if(a==="$regex"){if(k(i))return i.charAt(0)==="/"?yt(i).test(s):new RegExp(i).test(s);if(i instanceof RegExp)return i.test(s);throw new Error(`Invalid query type: ${typeof i}`)}else if(/^\$-?[0-9]+$/.test(a)){let l=Math.floor(J(parseInt(a.substring(1)),0,s.length));return e(s[l],i)}else return m(s)?m(i)?e(s[a],i):o(s[a],i,"$eq"):!1}}}}}}return e(r,t)}function xt(r,t){for(let e of Object.keys(t))for(let[n,o]of Object.entries(t[e])){let s=n.split("."),i=s.pop();if(!k(i))continue;let a=r;for(;m(a);){let l=s.shift();if(!l)break;a=a[l]}if(m(a)){if(e==="$set")a[i]=o;else if(e==="$unset")o&&delete a[i];else if(e==="$push")a[i].push(o);else if(e==="$pushAll"){if(Array.isArray(o))for(let l of o)a[i].push(l)}else if(e==="$pull"){for(let l=a[i].length;l>=0;l--)if(a[i][l]===o){a[i].splice(l,1);break}}else if(e==="$pullAll")Array.isArray(o)&&(a[i]=a[i].filter(function(l){for(let u of o)if(l===u)return!1;return!0}));else if(e==="$addToSet"){let l=!1;for(let u of a[i])if(u===o){l=!0;break}l||a[i].push(o)}else if(e==="$addToSetAll"&&Array.isArray(o))for(let l of o){let u=!1;for(let f of a[i])if(f===l){u=!0;break}u||a[i].push(l)}}}return r}function Q(r){let t=[];for(let e=0;e<r.length;e++){let n=r[e];m(n)?r[e]=Y(n):y(n)?r[e]=Q(n):r[e]=n}return t}function B(r){return new Promise(function(t){return setTimeout(t,r)})}var I=[["&","&amp;"],[" ","&nbsp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"],["\xA2","&cent;"],["\xA3","&pound;"],["\xA5","&yen;"],["\u20AC","&euro;"],["\xA9","&copy;"],["\xAE","&reg;"]],T=[["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]];function $t(r){return r.replace(/\r\n/g,`
`)}function At(r){return r.replace(/^</,"").replace(/([^<][!?/])?>$/,"").replace(/\s+/g," ").trim()}function Ct(r,t){for(let e=r.length-1;e>=0;e--)if(t(r[e],e,r))return e;return-1}function P(r){return encodeURIComponent(r)}function X(r){return decodeURIComponent(r)}function bt(r){for(let t=0;t<I.length;t++)r=r.replace(new RegExp(I[t][0],"g"),I[t][1]);return r}function L(r){for(let t=I.length-1;t>=0;t--)r=r.replace(new RegExp(I[t][1],"g"),I[t][0]);return r}function It(r){for(let t=0;t<T.length;t++)r=r.replace(new RegExp(T[t][0],"g"),T[t][1]);return r}function vt(r){return r.replace(/<!--([\s\S]*?)-->/g,function(...t){return`<!-->${P(t[1])}</!-->`})}function Mt(r){return r.replace(/(<script(?:[\s\S]*?)>)([\s\S]*?)(<\/script>)/g,function(...t){return`${t[1]}${P(t[2])}${t[3]}`})}function Ot(r){return r.replace(/(<style(?:[\s\S]*?)>)([\s\S]*?)(<\/style>)/g,function(...t){return`${t[1]}${P(t[2])}${t[3]}`})}function Et(r){return r.replace(/(>)([\s\S]*?)(<)/g,function(...t){return`${t[1]}${bt(t[2])}${t[3]}`})}function St(r){function t(...e){return`=${P(e[1])} `}return r.replace(/='([^'>]*?)'/g,t).replace(/="([^">]*?)"/g,t)}function Bt(r,t){let e=t.split("="),n=e.shift();n&&(e.length===0?r[n]=!0:r[n]=X(e.join("=")))}function jt(r){let t=At(r).split(/\s/),e={tag:t[0]||"",attributes:{},children:[],isClosing:!1,isClosed:!1,isEncoded:!1};typeof e.tag=="string"&&(e.isClosing=/^\//.test(e.tag),e.isClosed=e.isClosing,e.tag=e.tag.replace(/^\//,""),!e.isClosing&&["script","style","!--"].indexOf(e.tag)>-1&&(e.isEncoded=!0));for(let n=1;n<t.length;n++)Bt(e.attributes,t[n]);return e}function kt(r){let t="";for(let[e,n]of Object.entries(r))typeof n=="string"?t+=` ${e}="${It(n)}"`:n===!0&&(t+=` ${e}`);return t}function U(r){r=St(Et(Ot(Mt(vt($t(r))))));let t=0,e=/<[^>]*?>/g,n,o=[],s=[],i;for(;n=e.exec(r);){if(t!==n.index){let a=r.substring(t,n.index);o.push({content:L(a)})}if(i=jt(n[0]),!i.isClosing)o.push(i),s.push(i);else{let a=Ct(o,function(l){return!l.isClosed&&l.tag===i.tag});if(a>-1){let l=o[a];l.isClosed=!0,l.children=o.splice(a+1,o.length-a+1)}}t=e.lastIndex}if(t<r.length){let a=r.substring(t);o.push({content:L(a)})}for(let a of s){if(a.tag&&(a.tag.toUpperCase()==="!DOCTYPE"?a.closer="":a.tag.toLowerCase()==="?xml"?a.closer="?":a.tag==="!--"?a.closer="--":a.isClosed||(a.closer=" /"),a.isEncoded&&a.children))for(let l of a.children)l.content&&(l.content=X(l.content));delete a.isClosed,delete a.isClosing,delete a.isEncoded}return{children:o}}function W(r,t){let e=0,n=function(o){let{tag:s,closer:i,attributes:a,content:l}=t?t(o,e):o,u="";if(e++,typeof s=="string"){if(u+=`<${s}`,typeof a=="object"&&(u+=kt(a)),typeof i!="string"&&(u+=">"),Array.isArray(o.children))for(let f of o.children)u+=n(f);typeof i!="string"?u+=`</${s}>`:u+=`${i}>`}else if(typeof l=="string")u=l;else if(Array.isArray(o.children))for(let f of o.children)u+=n(f);return u};return n(r)}function K(r){let t=function(e){let n=e.split(/([>\s])/).map(i=>i?.trim()).filter(Boolean),o=[],s;for(let i of n){if(i===">"){s=i;continue}let a=s&&s===">"?1:void 0,l={$and:[]},u=i.match(/^([a-zA-Z0-9]+)/),f=[...i.matchAll(/#([a-zA-Z0-9_-]+)/g)],g=[...i.matchAll(/\.([a-zA-Z0-9_-]+)/g)],x=[...i.matchAll(/\[([a-zA-Z0-9_-]+)([*^$]?=["']?([^"']+)["']?)?\]/g)];if(u){let c=u[1];c!=="*"?l.$and.push({tag:c}):l.$and.push({tag:{$regex:c}})}if(f.length>0)for(let c of f)l.$and.push({"attributes.id":{$regex:"(^| )("+c[1]+")( |$)"}});if(g.length>0)for(let c of g)l.$and.push({"attributes.class":{$regex:"(^| )("+c[1]+")( |$)"}});if(x.length>0)for(let c of x){let h=c[1],d=c[2]?c[2][0]:null,w=c[3],$={};d?d==="="?$["attributes."+h]=w:d==="^"?$["attributes."+h]={$regex:`^${w}`}:d==="$"?$["attributes."+h]={$regex:`${w}$`}:d==="*"&&($["attributes."+h]={$regex:w}):$["attributes."+h]={$exists:!0},l.$and.push($)}a?o.push({query:l,depth:a}):o.push({query:l}),s=i}return o};return r.split(",").map(e=>e.trim()).filter(Boolean).map(e=>t(e))}var Rt=class N{constructor(t){this.children=[],typeof t=="string"&&(t=U(t)),Object.assign(this,t),this.children=this.prepare(this.children)}getContent(){let t="";if(typeof this.content=="string")t+=this.content;else for(let e of this.children)t+=e.getContent();return t}setContent(t){return this.children=this.prepare([{content:t}]),this}findOne(t,e=Number.POSITIVE_INFINITY){if(!(e<1))for(let n of this.children){if(G(n,t))return n;let o=n.findOne(t,e-1);if(o)return o}}findMany(t,e=Number.POSITIVE_INFINITY){let n=[];if(e<1)return n;for(let o of this.children){G(o,t)&&n.push(o);let s=o.findMany(t,e-1);n.push(...s)}return n}querySelector(t){let e=K(t);for(let n of e){let o=[this];for(let{query:s,depth:i}of n)o=o.reduce((a,l)=>[...a,...l.findMany(s,i)],[]);if(o[0])return o[0]}}querySelectorAll(t){let e=K(t),n=[];for(let o of e){let s=[this];for(let{query:i,depth:a}of o)s=s.reduce((l,u)=>[...l,...u.findMany(i,a)],[]);n.push(...s)}return n=n.filter((o,s,i)=>i.findIndex(a=>o==a)===s),n}update(t){return xt(this,t),this.children=this.prepare(this.children),this}updateOne(t,e){let n=this.findOne(t);return n&&n.update(e),this}updateMany(t,e){let n=this.findMany(t);for(let o of n)o.update(e);return this}prepare(t){return t.map(e=>{if(e instanceof N)return e.parent=this,e;{let n=new N(e);return n.parent=this,n}})}replace(...t){return this.children=this.prepare(t),this}append(...t){return this.children=this.children.concat(this.prepare(t)),this}prepend(...t){return this.children.splice(0,0,...this.prepare(t)),this}insert(t,...e){return t=Math.floor(J(t,0,this.children.length)),this.children.splice(t,0,...this.prepare(e)),this}toObject(){let t=Y(this);return delete t.parent,t.children=this.children.map(e=>e.toObject()),t}toString(t){return W(this,t)}static{this.parse=U}static{this.stringify=W}};D.default.use((0,tt.default)());var q=new et.CookieJar;q.setCookieSync("over18=yes","https://novel18.syosetu.com/");q.setCookieSync("over18=off","https://syosetu.org/");var Pt=(0,rt.default)(fetch,q);async function nt(r,t,e=0){let n=0;for(;n<=e;){let o=await r.$(t);if(o)return o;await B(256),n+=256}throw new Error(`Element not found: ${t}`)}async function Tt(r,t,e=0){let n=await nt(r,t,e);return await r.evaluate(s=>s?.textContent,n)}async function ot(r,t,e=0){await nt(r,t,e),await r.click(t)}async function it(r,t,e,n=0){let o=0;for(;o<=n;){let s=await Tt(r,t);if(s&&e(s))return s;await B(256),o+=256}throw new Error(`Content not found: ${t}`)}var A=class{constructor(){this.isOpened=!1,this.cacheDir=".puppeteer"}async open(){for(this.isOpened||(this.isOpened=!0,this.browser=await D.default.launch({headless:!1,userDataDir:this.cacheDir}));!this.browser;)await B(128)}async close(){if(this.isOpened){for(;!this.browser;)await B(128);let t=this.browser;this.browser=void 0,this.isOpened=!1,await t.close()}}async load(t,e,n){if(e||(e=[]),await this.open(),!this.browser)throw new Error("Browser not found");let o=await this.browser.newPage();try{await o.goto(t,this.pageOptions);for(let a of e){let l=setTimeout(()=>{throw new Error(`Element not found: ${a}`)},1e4);await o.waitForSelector(a,{visible:!0,timeout:0}),clearTimeout(l)}n&&await n(o);let s=await o.content(),i=_.load(s);return await o.close(),i}catch(s){throw await o.close(),s}}async fetch(t,e){let n=await Pt(t,e);if(!n.ok)throw new Error("Fetching failed");let o=await n.text();return _.load(o)}};function at(r){return typeof r=="number"?r:typeof r=="string"?isNaN(parseInt(r))?0:parseInt(r):0}function p(r){return v(r.find("br").replaceWith(`
`).end().text()).trim()}var M=class extends A{constructor(){super()}async getMetadata(t,e){let n=`https://www.alphapolis.co.jp/novel/${t}/${e}`,o=await this.fetch(n),s=o("table.detail"),i=function($){return p(s.find("th").filter(function(){return o(this).text().trim()===$}).next())},a=/連載中/.test(p(o(".content-status.complete"))),l=p(o("h1.title")),u=p(o(".author")),f=p(o(".abstract:nth-child(1)")),g=i("\u521D\u56DE\u516C\u958B\u65E5\u6642").replace(/[^0-9]/g,""),x=i("\u66F4\u65B0\u65E5\u6642").replace(/[^0-9]/g,""),c=g.length===12?(0,R.default)(g,"YYYYMMDDHHmm").valueOf():0,h=x.length===12?(0,R.default)(x,"YYYYMMDDHHmm").valueOf():0,d=[];for(let $ of o("div.episode a").toArray()){let H=$.attribs.href,Z=H.split("/").pop();if(!Z)throw new Error(`ChapterID not found: ${H}`);d.push(Z)}return{onGoing:a,title:l,outline:f,author:u,chapterIds:d,createdAt:c,updatedAt:h}}async getChapter(t,e,n){let o=`https://www.alphapolis.co.jp/novel/${t}/${e}/episode/${n}`,s=await this.load(o,null,async u=>{let f=0;for(;f<10;){f++;try{await ot(u,"#TopLayer",0)}catch{}try{await it(u,"#novelBody",g=>v(g).trim()!=="",1e3);return}catch{}}throw new Error("Content not found")}),i=p(s("div.episode-title")),a=s("#novelBody").find("br").replaceWith(`
`).end().text();return{id:n,title:i,content:a}}async getBook(t,e,n){let o=await this.getMetadata(t,e),s=[],i=o.chapterIds.length;for(let l=0;l<i;l++)try{let u=o.chapterIds[l],f=await this.getChapter(t,e,u);s.push(f),n&&n(null,f,l,i)}catch(u){n&&n(u,null,l,i)}return{...o,chapters:s}}};var F=C(require("dayjs"),1);var O=class extends A{constructor(){super()}async getMetadata(t){let e=`https://syosetu.org/?mode=ss_detail&nid=${t}`,n=await this.fetch(e),o=function(w){return p(n("td").filter(function(){return n(this).text().trim()===w}).next())},s=/短編|完結/.test(o("\u8A71\u6570")),i=o("\u30BF\u30A4\u30C8\u30EB"),a=o("\u4F5C\u8005"),l=o("\u3042\u3089\u3059\u3058"),u=parseInt(o("\u8A71\u6570").replace(/[^0-9]/g,"")),f=o("\u63B2\u8F09\u958B\u59CB").replace(/[^0-9]/g,""),g=o("\u6700\u65B0\u6295\u7A3F").replace(/[^0-9]/g,""),x=f.length===12?(0,F.default)(f,"YYYYMMDDHHmm").valueOf():0,c=g.length===12?(0,F.default)(g,"YYYYMMDDHHmm").valueOf():0,h=[];for(let w=0;w<u;w++)h.push(""+(w+1));return{onGoing:s,title:i,outline:l,author:a,chapterIds:h,createdAt:x,updatedAt:c}}async getChapter(t,e){let n=`https://syosetu.org/novel/${t}/${e}.html`,o=await this.fetch(n),s=p(o("#analytics_start").prev()),i=0,a=o(`#${i}`),l=[];for(;a.length!==0;)l.push(a.text()),i++,a=o(`#${i}`);return{id:e,title:s,content:l.join(`
`)}}async getBook(t,e){let n=await this.getMetadata(t),o=[],s=n.chapterIds.length;for(let a=0;a<s;a++)try{let l=n.chapterIds[a],u=await this.getChapter(t,l);o.push(u),e&&e(null,u,a,s)}catch(l){e&&e(l,null,a,s)}return{...n,chapters:o}}};var st=C(require("dayjs"),1);var E=class extends A{constructor(){super()}async getMetadata(t){let e=`https://kakuyomu.jp/works/${t}`,n=await this.fetch(e),o=p(n("a[title]").first()),s=p(n(".CollapseTextWithKakuyomuLinks_collapseText__XSlmz")),i=p(n('a[href^="/users"]').first()),a=!1;for(let c of n(".Meta_metaItem__8eZTP").toArray()){let h=n(c).text();if(h.indexOf("\u9023\u8F09\u4E2D")>-1){a=!0;break}else if(h.indexOf("\u5B8C\u7D50\u6E08")>-1){a=!1;break}}let l=0,u=0,f=[],g=JSON.parse(n("#__NEXT_DATA__").text());for(let c of Object.values(g.props.pageProps.__APOLLO_STATE__))if(m(c)&&c.__typename==="Episode"){let h=(0,st.default)(c.publishedAt).valueOf();l?l>h&&(l=h):l=h,u?u<h&&(u=h):u=h,f.push({id:c.id,publishedAt:h})}return f.sort((c,h)=>c.publishedAt-h.publishedAt),{onGoing:a,title:o,outline:s,author:i,chapterIds:f.map(c=>c.id),createdAt:l,updatedAt:u}}async getChapter(t,e){let n=`https://kakuyomu.jp/works/${t}/episodes/${e}`,o=await this.fetch(n),s=p(o("#contentMain-header")),i=1,a=o(`#p${i}`),l=[];for(;a.length!==0;)l.push(a.text()),i++,a=o(`#p${i}`);return{id:e,title:s,content:l.join(`
`)}}async getBook(t,e){let n=await this.getMetadata(t),o=[],s=n.chapterIds.length;for(let a=0;a<s;a++)try{let l=n.chapterIds[a],u=await this.getChapter(t,l);o.push(u),e&&e(null,u,a,s)}catch(l){e&&e(l,null,a,s)}return{...n,chapters:o}}};var z=C(require("dayjs"),1);var S=class extends A{constructor(){super()}async getMetadata(t){let e=`https://ncode.syosetu.com/novelview/infotop/ncode/${t}/`,n=await this.fetch(e),o=p(n("#noveltype_not"))!=="\u5B8C\u7D50\u6E08",s=p(n("#contents_main > h1 > a")),i=p(n("#noveltable1 tbody tr:nth-child(2) td")),a=p(n("#noveltable1 tbody tr:nth-child(1) td")),l=p(n("#noveltable2 tbody tr:nth-child(1) td")).replace(/[^0-9]/g,""),u=p(n("#noveltable2 tbody tr:nth-child(2) td")).replace(/[^0-9]/g,""),f=l.length===12?(0,z.default)(l,"YYYYMMDDHHmm").valueOf():0,g=u.length===12?(0,z.default)(u,"YYYYMMDDHHmm").valueOf():0,x=at(v(n("#pre_info").text()).match(/全([0-9]+)エピソード/)?.[1]||""),c=[];for(let d=0;d<x;d++)c.push(""+(d+1));return{onGoing:o,title:s,outline:a,author:i,chapterIds:c,createdAt:f,updatedAt:g}}async getChapter(t,e){let n=`https://ncode.syosetu.com/${t}/${e}`,o=await this.fetch(n),s=p(o("h1.p-novel__title p-novel__title--rensai")),i=1,a=o(`#L${i}`),l=[];for(;a.length!==0;)l.push(a.text()),i++,a=o(`#L${i}`);return{id:e,title:s,content:l.join(`
`)}}async getBook(t,e){let n=await this.getMetadata(t),o=[],s=n.chapterIds.length;for(let a=0;a<s;a++)try{let l=n.chapterIds[a],u=await this.getChapter(t,l);o.push(u),e&&e(null,u,a,s)}catch(l){e&&e(l,null,a,s)}return{...n,chapters:o}}};var lt={NAROU:"narou",KAKUYOMU:"kakuyomu",ALPHAPOLIS:"alphapolis",HAMELN:"hameln"};async function Nt(r,t){if(r==="narou")return await new S().getMetadata(t);if(r==="kakuyomu")return await new E().getMetadata(t);if(r==="alphapolis")return await new M().getMetadata(t.split("/")[0],t.split("/")[1]);if(r==="hameln")return await new O().getMetadata(t);throw new Error(`Invalid provider: ${r}`)}async function Yt(r,t,e){if(r==="narou")return await new S().getChapter(t,e);if(r==="kakuyomu")return await new E().getChapter(t,e);if(r==="alphapolis"){let n=new M,o=await n.getChapter(t.split("/")[0],t.split("/")[1],e);return await n.close(),o}else{if(r==="hameln")return await new O().getChapter(t,e);throw new Error(`Invalid provider: ${r}`)}}async function _t(r,t,e){if(r==="narou")return await new S().getBook(t,e);if(r==="kakuyomu")return await new E().getBook(t,e);if(r==="alphapolis"){let n=new M,o=await n.getBook(t.split("/")[0],t.split("/")[1],e);return await n.close(),o}else{if(r==="hameln")return await new O().getBook(t,e);throw new Error(`Invalid provider: ${r}`)}}0&&(module.exports={PROVIDER,getBook,getChapter,getMetadata});
